import org.scalatest.{FunSuite, Matchers}

import scala.collection.JavaConverters._

class TestSuffixTrie extends FunSuite with Matchers {
  val instance = new SuffixTreeJava()
  def validateEquality(input : String) : Unit = {
    //val a = SuffixTrie.computeSuffixTrie(input).toSeq.sorted
    val instance2 = new SuffixTree();
    val a = SuffixTrie.computeSuffixTrie(input).toSeq.sorted
    val b = instance2.computeSuffixTreeEdges(input).asScala.toSeq.sorted
    a should contain theSameElementsAs b
    assert(a == b)
  }

  test("TTTTTTTTTTTTTTTTTTTT$") {
    validateEquality("TTTTTTTTTTTTTTTTTTTT$")
  }
  test("A$") {
    validateEquality("A$")
  }
  test("ACA$") {
    validateEquality("ACA$")
  }
  test("ATAAATG$") {
    validateEquality("ATAAATG$")
  }
  test("AACCTGTCCA$") {
    validateEquality("AACCTGTCCA$")
  }
  test("GTGG$") {
    validateEquality("GTGG$")
  }
  test("GCCCCGCCTC$") {
    validateEquality("GCCCCGCCTC$")
  }
  test("GTGGG$") {
    validateEquality("GTGGG$")
  }
  test("CACAC$") {
    validateEquality("CACAC$")
  }
  test("GGGCTCAGCCAGG$") {
    validateEquality("GGGCTCAGCCAGG$")
  }
  test("AACAC$") {
    validateEquality("AACAC$")
  }
  test("AAAA$") {
    validateEquality("AAAA$")
  }
  test("ATTGTCACAACTGCGAGCGGCTAAATTT$") {
    validateEquality("ATTGTCACAACTGCGAGCGGCTAAATTT$")
  }
  test("smaller1") {
    validateEquality("TAATTAATT$")
  }
  test("smaller") {
    validateEquality("CTAAATTTGGTAATTCTGGTAAAC$")
  }
  test("CTAAATTTGGTAATTCTGCCGGTAAAC$") {
    validateEquality("CTAAATTTGGTAATTCTGCCGGTAAAC$")
  }
  test("Test #17") {
    validateEquality("GTAGCGACGCCTTATGGACTCACGACGGGCTGGACGCTGGCGCTGCCTAGCGTGCTCACAGCCAGATCGTACGTAAGGAGCCACCTGATGCCGGGGGTCC$")
  }
  test("ATTGTCACAACTGCGAGCGGCTAAATTTGGTAATTCTGCCGGTAAACGAAAACAACGACCT$") {
    validateEquality("ATTGTCACAACTGCGAGCGGCTAAATTTGGTAATTCTGCCGGTAAACGAAAACAACGACCT$")
  }
  test("GCTGTTACGGCACGGCGAGGCCTAGGCTCGCCAATCGCCGAGCAGGAACCCGTTCATATATCCGAAGAACTACTGTGCGGAGGGCGTATGGCATGTGGGCTGAGGTCGGACTCTTTCACCATTCCCATGATAGCGGAAACTCGTCTAGGAGGTGGTCATTACAAGATGGACTGGATCCAGCCGCTTGGAGTACACACTATATTACATCTCCGCGATTGTCCGCTGCATCTGCCCCACGGCCCAGCTCTTCGCGAAAGGGTTACGTCGCCAGGCCGATCTTTCGTCCAGGTCTGGTCAGGTGGTGTGCCAGACTTGTATACCTGTCCATGGGTCTACACTGCGTTCAATGTACTAAGCAACATGTTTTATTCATTAATAAGAAAACTCGAACAGTCTGCTGGCCGTGGGCGAGTGCGTTATGCTCCGCCAACTAGGCGCAGGCTAACCACAGACAATGAGAATAGAGACACTGGGGTAGCGAAGTTGTCTACAGTGTGTCACTATAAAAAGACGGAAGCGCCTTATGCCAACTGACGGAAACCCGTATCGAGGTGCACGCGTGTCTCGCCCACTCACGCGGGTCACCTTCTGTCTTACACCTTCGTGAGTGTCTTACCCCCCTGATGGGAGGCTAAAAACATGTAAGATGCCCGCTGGCAGGCTGGGAAGCGGATAGCTAGGAGGATATGTAAGCGTTAAACTGCCACAAAGACTTGCACAACCGGCTGGCTATAACCATGCACTCCCACCGGGCCTGTCAAGAGGTAGTGTGTGCCGACGCGGATCGCCTCAATGACTGAACAGATTGGCTAAGGTCGGCTACGTCGGGGACTCTGAGGTTTAATATGACCTATTCTCGTGTTATGTTTCCTATAGACGATTTGAGTGTAACCCTTGACGTTGGATAGGGCACCTCTGTTGGTGAATAAAAGTAATGAATCGCGGGGGTGCGCCTGTACGGATTTTAAGCCGATGCATCCCCAAAGTGTGGTAGCATTTCAATGTTAGTATTAGGCTTCACGCGTCAGGCAGTGACCTTTCGTGTAACTAAACATAATAAAGACATTTATTCGGTACATCTAGTTCGGGTGCTCACGCTACATACACGCAGTCCATCGAACGTGTCCGCAAAATAAGCAAGGGACCCCAGTTTCAGCCATTATAAGGCGCTACGAAAGGCTATTTGGACAAGAGCTGCCGTACGGCTTCGGTCTTGTCTAGTATCATGGCTCCCTGCCTCTGGGATTTTATTAAACTTCGTCTCAAGGAGGAGAAGCCAGGCCAAGCCATCCACGCAAGGTTCCATAAAGCACTGCTGGTAATGGGTATCCACCTAAGCTGATTGATTAGGGAGCCCCACAATTTCGACCTTCAGCCACGTTGCATTCCCGCCAACTATTACGAACTATATGACTGATCATCAGGGCACACCGGCAAGACGAATCTCAATCAAAAGTCAGGGTAGCGGAAAAAGATGTAAAAGCAGTGTACATCGTACACGTGAGCGATAGGAAGCCAACCATCAAACTAATTTGCGCCCCCTGGTGTACGCCGCTACTTTTGAAAAGATTGGCGTCGATCCGTGTCATGAGTGCTATTCTGCACTATGTGGAATCAAATGATTGTTCACCGGGATAGCAGCGGGTCAGGCAGGCAGGAGATCCTCGGCATGCCAAAAGTTCTCTCAAACTCCTGAGAACACTCTTGTTCCTGTCTTGGCGCGCACATACCTCAGCCCGACAACTTGCATAAACGTTTTTTGTTTGATGCTCCAAAAGCATGTTGTTCGCCCATTTCGTGCATTCTTCGTGCTACATTCCCCGGTTAGGGAACGAGGATTCAGTCGCTCGAAACTACCTACCAATGGTCTAGGACTCTGGTGCTCGTCGTTGGATCTAGTATCGCAGACTGAGTAACCTATCTGTCGATGATATGACGCGTTGCCAAAGAAGAGATGTCCTTAAGGCGGGTCATGACCAATTCAAAACATATCATGACCTGGAGTCAGGTCCGGGTAAGAGCGTAGAAGCGATCCCCGGTCCAGTCAGATCACTATTTAACGGCAAAGTCTATACCCCAAGCCCGAGGTTCGGTCGACAGCCTGCGAACCGTGTTTACCGCTCCAGGAGCAATGAGATAAATGACTTGTCTCCCTGAACGGTTCTCGTCCCCACTCAATTTTATTACTATTACGCGCAGTCGCGACTTTTGATCAGGGTAGATTCGCGAGGTATACTGCCTGAAGCTTCCAACGAAAGCTCTAATTCGTAGCCTATCCCAAGCTAAATATGACATGAATTGCACTCGCGAGAAATTCTGCCACCAATGCAAGGACGCGCGTATTTCGGCCGCGCGCCAACGCTGTATGATCCGACTCCTACATAAT ... GGGTGGTTGCTGGAGTGCCCAAGATCTAGGAGACGGTGCCCGCGCAATGAAGCGACACCTACGTATAATTAAGTGTCTATCAATTAAACTATTGGGTGGCCGGCATGGTACGCTATCTACGACGACGGGAGACCAGCAGGGGGTTACCCCCTATCGCAAATTACCGTATTGGCAGAGTGAGACAGCACCTCGGCTTTCGCGCTGCTCGCAACCACCGGGGAGGGTTTGTCGGGACCGTCCGGACTCTCAAAAGTCCTCCCTAACCGCCCAGGTGGAAGGCATATAAGGGCGCCCCAAAGCTGAGGTAATGCGGCAGTACACTGCCGCACCTTCAAGAGGATGACAATTAGGGCTGTCGTCGCTAATGGGAAGTGTAAATTGTAAGAGAGACATAACATAATCGCATTACTTCGACACACGGATGATGAAATCTCAGTACGATCCGCGGCACATGGTGAAACGTCTTAGCCGAATATTAGCCTAACTAGTTTTTCCGGTCGACGGCGACGCCCACAACAGTCACAGTGCCTTGTCAAGTTACAAGGGATCCCATTCGAGAACCGTAGACATGCCGAAACTCGCAATGTAACTTCGTGGAATTCGGGAGCTCTAGCACCACATGTCCGAAAAATCCATAGGCGTAGTAGCATTACCCAACCTGAGACTTCCAGCTGTGAGACGTGTGATGCTGTTCTTCAACCCTATGACTCGTTTTTACAGATACGCTCATTCGAGTTCGGGGCGGCAATTCACCATTGTGCGATGAGACAGACACGGTTTGGAGGCTTTGATGTGCCTCACCGCCCCTTCAAGTAGCAGCATAAGTGGGGGAGCACGGAAAACTCACGAGCGTGGCTCGGCCCTTATTGGGAACAGTAACAAGAAGCTTAAACAGATCCTGCACAGAATAGGTAAGGCTCTAACTCATTTCGCGCAGTCCGTGATACCGCTACGAACCCCAGGTTGATCCGGACCGGAGATCATTCACATTAACCACCGCTCGCAGAGTATCTGGAGTCGGCTTACCGGCCTACCTATTCTGCGGCGACATGGCTGCTCTGTCATTCCTACAACAGCAGGGGGCAGTGTTGTGTCAACGGATGGCCTTAAACGAAGTCTTCCATTATGCTAGACCCCGTGCGGGTTGTTTCACTGACCGTTGGCTCCCGCCCGCAAGAGACTGAGCTCCTGGTCTTCGCCGCACGAGTAGTTGGCACACATGCGGACTCACTTGCTAGTGCCCCTGCACGTTAGACTGCATACATATCATCTCAATGAACAGCACGATTCCGTCCCCGTTTCTCTTTCTTAGTTGTTGACTACGAATTAGTATAACAATTCCTAGCGGTAGTCGGCCGTGCCGGTGCCTGCGCCCGTTCCAAGAGCGGGCGCGGACTTTGGGCTTGGGCGTCCAGTGATATAAGGGGGGAAGGGAAACGCCTAGCGGATGTCCATCCAATGCCGAGATGGAATTAACTTTGTACGTGTGTCCCGTTGCGTTCCGAGTTGCTCGGCTTCGGACTGGAGCAGGGAACAATACTTGCACCCGGGTAGTTGGTTCACTATGGTCATAGCAGGAATGATTTAAGGGCCCTAGAGTGGCTCCGCAACAGAATATTTGCCTCGTCGCCGTTTCGGACGTGACCTCCGGGCTGGCGGTATGAAAAAGTAGTCACACTTAGCTTCTGCTGTTGAGCCACTGAGGTAGATGCTATTTTACACAGCCGTAGGAAGACACAGGAACACCCGGCGACTCTAAAAAAAGCGTAGGTGCACCTGTGGACTGGCTGTTAATCCTATCGGGATAGCTATTTGGGCAGCGCCTTAGATTCATTCAGATGGACGACTTGGTTCTCATGGCTACGCTGTTGCCGGGTTGGGAAGTTTGCAAGCCTTCCAGGAGAATCTGTATATGTTGTGCACTGGCGACAGCACTAAGGATTTGAACTCGAAAGCTTGTGTCCCTAAAAATTGCATTTCTGGTCTTTCTTAGCCATCTCCGAGTTAAAATCCTCACGGTTGAACGCACAGGCACCCCCATGGGGCCCACGACAGTATTAGGCTTCGAGAGTTTAACAGATGACGTGACCCACTAATTAGGTTAGCTTGGATCATTTGAGCTGAGCTTCCGTTGGCCGCCTAGGTCAACTGGTTGACCATTTAGTATGCAGTAGCCATCAATAGAGGCTTTAATCTAACCCTTACAGCGCGCATAACGGTACATGAGTGGTATTCTATGAACGAGCTATCAATGTAGGATCGTTATGGAGGCGG$") {
    validateEquality("GCTGTTACGGCACGGCGAGGCCTAGGCTCGCCAATCGCCGAGCAGGAACCCGTTCATATATCCGAAGAACTACTGTGCGGAGGGCGTATGGCATGTGGGCTGAGGTCGGACTCTTTCACCATTCCCATGATAGCGGAAACTCGTCTAGGAGGTGGTCATTACAAGATGGACTGGATCCAGCCGCTTGGAGTACACACTATATTACATCTCCGCGATTGTCCGCTGCATCTGCCCCACGGCCCAGCTCTTCGCGAAAGGGTTACGTCGCCAGGCCGATCTTTCGTCCAGGTCTGGTCAGGTGGTGTGCCAGACTTGTATACCTGTCCATGGGTCTACACTGCGTTCAATGTACTAAGCAACATGTTTTATTCATTAATAAGAAAACTCGAACAGTCTGCTGGCCGTGGGCGAGTGCGTTATGCTCCGCCAACTAGGCGCAGGCTAACCACAGACAATGAGAATAGAGACACTGGGGTAGCGAAGTTGTCTACAGTGTGTCACTATAAAAAGACGGAAGCGCCTTATGCCAACTGACGGAAACCCGTATCGAGGTGCACGCGTGTCTCGCCCACTCACGCGGGTCACCTTCTGTCTTACACCTTCGTGAGTGTCTTACCCCCCTGATGGGAGGCTAAAAACATGTAAGATGCCCGCTGGCAGGCTGGGAAGCGGATAGCTAGGAGGATATGTAAGCGTTAAACTGCCACAAAGACTTGCACAACCGGCTGGCTATAACCATGCACTCCCACCGGGCCTGTCAAGAGGTAGTGTGTGCCGACGCGGATCGCCTCAATGACTGAACAGATTGGCTAAGGTCGGCTACGTCGGGGACTCTGAGGTTTAATATGACCTATTCTCGTGTTATGTTTCCTATAGACGATTTGAGTGTAACCCTTGACGTTGGATAGGGCACCTCTGTTGGTGAATAAAAGTAATGAATCGCGGGGGTGCGCCTGTACGGATTTTAAGCCGATGCATCCCCAAAGTGTGGTAGCATTTCAATGTTAGTATTAGGCTTCACGCGTCAGGCAGTGACCTTTCGTGTAACTAAACATAATAAAGACATTTATTCGGTACATCTAGTTCGGGTGCTCACGCTACATACACGCAGTCCATCGAACGTGTCCGCAAAATAAGCAAGGGACCCCAGTTTCAGCCATTATAAGGCGCTACGAAAGGCTATTTGGACAAGAGCTGCCGTACGGCTTCGGTCTTGTCTAGTATCATGGCTCCCTGCCTCTGGGATTTTATTAAACTTCGTCTCAAGGAGGAGAAGCCAGGCCAAGCCATCCACGCAAGGTTCCATAAAGCACTGCTGGTAATGGGTATCCACCTAAGCTGATTGATTAGGGAGCCCCACAATTTCGACCTTCAGCCACGTTGCATTCCCGCCAACTATTACGAACTATATGACTGATCATCAGGGCACACCGGCAAGACGAATCTCAATCAAAAGTCAGGGTAGCGGAAAAAGATGTAAAAGCAGTGTACATCGTACACGTGAGCGATAGGAAGCCAACCATCAAACTAATTTGCGCCCCCTGGTGTACGCCGCTACTTTTGAAAAGATTGGCGTCGATCCGTGTCATGAGTGCTATTCTGCACTATGTGGAATCAAATGATTGTTCACCGGGATAGCAGCGGGTCAGGCAGGCAGGAGATCCTCGGCATGCCAAAAGTTCTCTCAAACTCCTGAGAACACTCTTGTTCCTGTCTTGGCGCGCACATACCTCAGCCCGACAACTTGCATAAACGTTTTTTGTTTGATGCTCCAAAAGCATGTTGTTCGCCCATTTCGTGCATTCTTCGTGCTACATTCCCCGGTTAGGGAACGAGGATTCAGTCGCTCGAAACTACCTACCAATGGTCTAGGACTCTGGTGCTCGTCGTTGGATCTAGTATCGCAGACTGAGTAACCTATCTGTCGATGATATGACGCGTTGCCAAAGAAGAGATGTCCTTAAGGCGGGTCATGACCAATTCAAAACATATCATGACCTGGAGTCAGGTCCGGGTAAGAGCGTAGAAGCGATCCCCGGTCCAGTCAGATCACTATTTAACGGCAAAGTCTATACCCCAAGCCCGAGGTTCGGTCGACAGCCTGCGAACCGTGTTTACCGCTCCAGGAGCAATGAGATAAATGACTTGTCTCCCTGAACGGTTCTCGTCCCCACTCAATTTTATTACTATTACGCGCAGTCGCGACTTTTGATCAGGGTAGATTCGCGAGGTATACTGCCTGAAGCTTCCAACGAAAGCTCTAATTCGTAGCCTATCCCAAGCTAAATATGACATGAATTGCACTCGCGAGAAATTCTGCCACCAATGCAAGGACGCGCGTATTTCGGCCGCGCGCCAACGCTGTATGATCCGACTCCTACATAAT ... GGGTGGTTGCTGGAGTGCCCAAGATCTAGGAGACGGTGCCCGCGCAATGAAGCGACACCTACGTATAATTAAGTGTCTATCAATTAAACTATTGGGTGGCCGGCATGGTACGCTATCTACGACGACGGGAGACCAGCAGGGGGTTACCCCCTATCGCAAATTACCGTATTGGCAGAGTGAGACAGCACCTCGGCTTTCGCGCTGCTCGCAACCACCGGGGAGGGTTTGTCGGGACCGTCCGGACTCTCAAAAGTCCTCCCTAACCGCCCAGGTGGAAGGCATATAAGGGCGCCCCAAAGCTGAGGTAATGCGGCAGTACACTGCCGCACCTTCAAGAGGATGACAATTAGGGCTGTCGTCGCTAATGGGAAGTGTAAATTGTAAGAGAGACATAACATAATCGCATTACTTCGACACACGGATGATGAAATCTCAGTACGATCCGCGGCACATGGTGAAACGTCTTAGCCGAATATTAGCCTAACTAGTTTTTCCGGTCGACGGCGACGCCCACAACAGTCACAGTGCCTTGTCAAGTTACAAGGGATCCCATTCGAGAACCGTAGACATGCCGAAACTCGCAATGTAACTTCGTGGAATTCGGGAGCTCTAGCACCACATGTCCGAAAAATCCATAGGCGTAGTAGCATTACCCAACCTGAGACTTCCAGCTGTGAGACGTGTGATGCTGTTCTTCAACCCTATGACTCGTTTTTACAGATACGCTCATTCGAGTTCGGGGCGGCAATTCACCATTGTGCGATGAGACAGACACGGTTTGGAGGCTTTGATGTGCCTCACCGCCCCTTCAAGTAGCAGCATAAGTGGGGGAGCACGGAAAACTCACGAGCGTGGCTCGGCCCTTATTGGGAACAGTAACAAGAAGCTTAAACAGATCCTGCACAGAATAGGTAAGGCTCTAACTCATTTCGCGCAGTCCGTGATACCGCTACGAACCCCAGGTTGATCCGGACCGGAGATCATTCACATTAACCACCGCTCGCAGAGTATCTGGAGTCGGCTTACCGGCCTACCTATTCTGCGGCGACATGGCTGCTCTGTCATTCCTACAACAGCAGGGGGCAGTGTTGTGTCAACGGATGGCCTTAAACGAAGTCTTCCATTATGCTAGACCCCGTGCGGGTTGTTTCACTGACCGTTGGCTCCCGCCCGCAAGAGACTGAGCTCCTGGTCTTCGCCGCACGAGTAGTTGGCACACATGCGGACTCACTTGCTAGTGCCCCTGCACGTTAGACTGCATACATATCATCTCAATGAACAGCACGATTCCGTCCCCGTTTCTCTTTCTTAGTTGTTGACTACGAATTAGTATAACAATTCCTAGCGGTAGTCGGCCGTGCCGGTGCCTGCGCCCGTTCCAAGAGCGGGCGCGGACTTTGGGCTTGGGCGTCCAGTGATATAAGGGGGGAAGGGAAACGCCTAGCGGATGTCCATCCAATGCCGAGATGGAATTAACTTTGTACGTGTGTCCCGTTGCGTTCCGAGTTGCTCGGCTTCGGACTGGAGCAGGGAACAATACTTGCACCCGGGTAGTTGGTTCACTATGGTCATAGCAGGAATGATTTAAGGGCCCTAGAGTGGCTCCGCAACAGAATATTTGCCTCGTCGCCGTTTCGGACGTGACCTCCGGGCTGGCGGTATGAAAAAGTAGTCACACTTAGCTTCTGCTGTTGAGCCACTGAGGTAGATGCTATTTTACACAGCCGTAGGAAGACACAGGAACACCCGGCGACTCTAAAAAAAGCGTAGGTGCACCTGTGGACTGGCTGTTAATCCTATCGGGATAGCTATTTGGGCAGCGCCTTAGATTCATTCAGATGGACGACTTGGTTCTCATGGCTACGCTGTTGCCGGGTTGGGAAGTTTGCAAGCCTTCCAGGAGAATCTGTATATGTTGTGCACTGGCGACAGCACTAAGGATTTGAACTCGAAAGCTTGTGTCCCTAAAAATTGCATTTCTGGTCTTTCTTAGCCATCTCCGAGTTAAAATCCTCACGGTTGAACGCACAGGCACCCCCATGGGGCCCACGACAGTATTAGGCTTCGAGAGTTTAACAGATGACGTGACCCACTAATTAGGTTAGCTTGGATCATTTGAGCTGAGCTTCCGTTGGCCGCCTAGGTCAACTGGTTGACCATTTAGTATGCAGTAGCCATCAATAGAGGCTTTAATCTAACCCTTACAGCGCGCATAACGGTACATGAGTGGTATTCTATGAACGAGCTATCAATGTAGGATCGTTATGGAGGCGG$")
  }
}
